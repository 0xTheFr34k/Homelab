{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:recommended",
    ":enablePreCommit"
  ],
  "gitAuthor": "Renovate Bot <bot@renovateapp.com>",
  "commitMessageAction": "update",
  "commitMessageTopic": "{{depName}}",
  "commitMessageExtra": "to {{newVersion}}",
  "prBodyTemplate": "{{{changelogs}}}\n\n{{{controls}}}",
  "ignoreTests": true,
  "labels": [
    "dependencies",
    "renovate"
  ],
  "enabledManagers": ["flux", "regex"],
  "flux": {
    "managerFilePatterns": ["/\\.yaml(?:\\.j2)?$/"]
  },
  "kubernetes": {
    "managerFilePatterns": ["/\\.yaml(?:\\.j2)?$/"]
  },
  "customManagers": [
    {
      "customType": "regex",
      "description": "Update container image tags in YAML",
      "fileMatch": ["^kubernetes/apps/.+\\.ya?ml$"],
      "matchStrings": [
        "image:\\s*(?<depName>.*?):(?<currentValue>[a-zA-Z0-9._-]+)"
      ],
      "datasourceTemplate": "docker"
    }
  ],
  "vulnerabilityAlerts": {
    "enabled": true,
    "labels": [
      "security",
      "renovate"
    ]
  },
  "ignorePaths": [
    "**/*.sops.*",
    "**/practice/**",
    "**/gotk-sync.yaml"
  ],
}

